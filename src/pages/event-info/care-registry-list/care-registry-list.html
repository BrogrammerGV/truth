<!--
  Generated template for the CareRegistryListPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <div class="headerBarBumpTwo"></div>
  <div style="position: relative; height: 100%">
    <img src="assets/img/CareRegistryHeaders/{{careCategory}}.png" style="height: 10em; width: 100%" />
    <div style="position: absolute; bottom: 1em; left: 1.5em; right: 1.5em"><span class="welcomeHeader1" style="font-size: 2.4em;">{{careCategoryFriendlyName}}</span><br /><span class="welcomeHeader2"
        style="font-size: 1.2em; font-weight: normal">{{careCategoryDescription}}</span></div>
  </div>
</ion-header>


<ion-content>
  <ion-slides>
    <ion-slide>
      <div *ngIf="!showAddItem && !showAddItemAll" class="cardStyle" style="position: absolute; top: 10px; left: 10px; right: 10px; bottom: 10px;">
        <div style="position: relative; width: 100%; height: 100%">
          <img src="assets/img/back.png" style="top:5px; left:0px; height: 1.5em; width: 1.5em; position: absolute; float: left" (click)="goBack()"
            *ngIf="isPlanner" />
          <div style="overflow: auto; height: 100%; text-align: center; margin-left: 2em; margin-right: 0em; padding-right: 1em">
            <div class="blueText mainFont">
              Available
            </div>
            <hr class="horizontalBreak" style="margin-top: 0.5em; margin-bottom: 0.5em;" />
            <div class="subFont" style="font-size: 1em" *ngIf="noResultsAvailable && isPlanner">
              There isn't anything here yet, hit add item to request meals.
            </div>
            <div class="subFont" style="font-size: 1em" *ngIf="noResultsAvailable && !isPlanner">
              There are no unclaimed items in this category. Care items may be available in other categories.
            </div>
            <div style="border-bottom: 1px solid; text-align: left; padding-bottom: 5px; margin-bottom: 0.7em" *ngFor="let availableItem of availableItems"
              class="mainFont" (click)="openItem(availableItem)">
              <span>{{availableItem.itemName.S}}
                  <img src="assets/img/arrow.png" style="float: right; height: 1em; padding-top: 5px" /></span><br
              />
              <span style="font-weight: normal; font-size: 0.7em">{{availableItem.itemSubName.S}}</span>
            </div>

            <br /><br />
            <div *ngIf="!noResultsClaimed">
              <div class="blueText mainFont">
                Claimed
              </div>
              <hr class="horizontalBreak" style="margin-top: 0.5em; margin-bottom: 0.5em;" />
              <div style="border-bottom: 1px solid; text-align: left; padding-bottom: 5px; margin-bottom: 0.7em; opacity: 0.3" class="mainFont"
                *ngFor="let claimedItem of claimedItems" (click)="openItem(claimedItem)">
                <span>{{claimedItem.itemName.S}}
                  <img src="assets/img/arrow.png" style="float: right; height: 1em; padding-top: 5px" *ngIf="isPlanner" />
                  <img src="assets/img/checkmarkbox.png" style="float: right; height: 1.5em; padding-top: 5px" *ngIf="!isPlanner" /></span>
                <br/>
                <span style="font-weight: normal; font-size: 0.7em">Claimed by {{claimedItem.claimedBy.S}}</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </ion-slide>
    <ion-slide>

      <div *ngIf="!showAddItem && !showAddItemAll" class="cardStyle" style="position: absolute; top: 10px; left: 10px; right: 10px; bottom: 10px;">
        <div style="position: relative; width: 100%; height: 100%">
          <img src="assets/img/back.png" style="top:5px; left:0px; height: 1.5em; width: 1.5em; position: absolute; float: left" (click)="moveSlides(0)"
            *ngIf="isPlanner" />
          <div style="overflow: auto; height: 100%; text-align: center; margin-left: 1em; margin-right: 0em; padding-right: 1em" class="mainFont"
            *ngIf="event">
            <div class="blueText">
              {{event.itemName.S}}
            </div>
            <div style="font-weight: normal; font-size: 0.7em">
              {{event.itemSubName.S}}
            </div>
            <br />
            <div style="font-weight: normal; font-size: 0.7em; text-align: left">
              <div *ngIf="careCategory == 'Meals'">
                <div style="font-weight: bold; margin-bottom: 10px">
                  Drop-off Location:
                </div>
                <div style="margin-left: 10px">
                  <span [innerHtml]="event.dropOffLocation.S"></span>
                </div>
                <br />
                <div style="font-weight: bold; margin-bottom: 10px">
                  Additional Instructions:
                </div>
                <div style="margin-left: 10px">
                  {{event.additionalInstructions.S}}
                </div>
              </div>
              <div *ngIf="careCategory != 'Meals'">
                <div style="font-weight: bold; margin-bottom: 10px">
                  Short Description:
                </div>
                <div style="margin-left: 10px">
                  {{event.shortDescription.S}}
                </div>
              </div>
              <br />
            </div>
            <div style="font-weight: bold; text-align: center" *ngIf="event.claimed.BOOL">
              This item has been claimed by {{event.claimedByFirst.S}} {{event.claimedByLast.S}}.
            </div>
            <br />
          </div>
        </div>
      </div>
    </ion-slide>
    <ion-slide>
        <div class="cardStyle" style="position: absolute; top: 10px; left: 10px; right: 10px; bottom: 10px;">
            <div style="position: relative; width: 100%; height: 100%">
              <page-register textCopy="To claim this task, please sign up for an account."></page-register>
            </div>
          </div>
    </ion-slide>
    <ion-slide>
        <div class="cardStyle" style="position: absolute; top: 10px; left: 10px; right: 10px; bottom: 10px;">
            <div style="position: relative; width: 100%; height: 100%">
                <div class="welcomeCenter">
                  <img src="assets/img/checkmark.png" class="welcomeImage" />
                  <br /><br />
                  <div class="mainFont">A confirmation email is on its way. In the meantime, click continue to claim this task.</div>
                </div>
            </div>
          </div>
    </ion-slide>
    <ion-slide>
        <div class="cardStyle" style="position: absolute; top: 10px; left: 10px; right: 10px; bottom: 10px;">
            <div style="position: relative; width: 100%; height: 100%">
        <page-login-component></page-login-component>
            </div>
        </div>
    </ion-slide>
    <ion-slide>
      Phone contact
      <img src="assets/img/back.png" style="top:5px; left:0px; height: 1.5em; width: 1.5em; position: absolute; float: left" (click)="moveSlides(0)"
        *ngIf="isPlanner" />
    </ion-slide>
    <ion-slide>
      Task accepted confirm
      <img src="assets/img/back.png" style="top:5px; left:0px; height: 1.5em; width: 1.5em; position: absolute; float: left" (click)="moveSlides(0)"
        *ngIf="isPlanner" />
    </ion-slide>
  </ion-slides>




<!-- bool: showAddItem result: shows the Add Meal Item Page -->
  <div *ngIf="showAddItem" class="cardStyle" style="position: absolute; top: 10px; left: 10px; right: 10px; bottom: 10px;">
    <div style="position: relative; width: 100%; height: 100%">
      
      
      <img src="assets/img/back.png" style="top:5px; left:0px; height: 1.5em; width: 1.5em; position: absolute; float: left" (click)="goBack()"/>
      <div style="overflow: auto; height: 100%; text-align: center; margin-left: 2em; margin-right: 0em; padding-right: 1em">
        <div class="blueText mainFont">
          Add Meal
        </div>
        <hr class="horizontalBreak" style="margin-top: 0.5em; margin-bottom: 0.5em;" />

        <br />
        <div class="center">

          <button style="width: 32%; font-size: .9em; height: 2.3em; line-height:0;  border-width: 2px;" [ngClass]="{
            'whiteButton' : !breakfastClicked,
            'orangeButton' : breakfastClicked
          }" (click)="showBreakfast()"><b>Breakfast</b></button>
          <button style="width: 32%; font-size: .9em; height: 2.3em; line-height:0;  border-width: 2px;" [ngClass]="{
            'whiteButton' : !lunchClicked,
            'orangeButton' : lunchClicked
          }" (click)="showLunch()"><b>Lunch</b></button>
          <button style="width: 32%; font-size: .9em; height: 2.3em; line-height:0; border-width: 2px;" [ngClass]="{
            'whiteButton' : !dinnerClicked,
            'orangeButton' : dinnerClicked
          }" (click)="showDinner()"><b>Dinner</b></button>



          <ion-list *ngIf="!timeFilledOut && !showConfirm" style="margin-right: 2%; margin-top: 5%;" no-lines>
            <ion-item (click)="showCalendar()">
              <ion-label stacked class="inputLabelText">Date Needed</ion-label>
              <ion-input [disabled]="true" readonly class="inputField" placeholder="Double Tap for Calendar" [(ngModel)]="mealDate"></ion-input>
            </ion-item>
            <ion-item>
              <ion-label stacked class="inputLabelText">Time Needed</ion-label>
              <!--<ion-input class="inputField" placeholder="Type Here" [(ngModel)]="mealTime"></ion-input>-->
              <ion-datetime class="inputField" displayFormat="hh:mm a" pickerFormat="hh:mm a" placeholder="Tap for Time" [(ngModel)]="mealTime"></ion-datetime>
            </ion-item>
          </ion-list>







          <div *ngIf="timeFilledOut" style="margin-top: 4%;;" class="mainFont">
            {{mealDate}} | {{ mealTime}}
          </div>


          <ion-list *ngIf="timeFilledOut" style="margin-right: 2%; margin-top: 5%;" no-lines>
            <ion-item>
              <ion-label stacked class="inputLabelText">Drop-off Location</ion-label>
              <ion-input class="inputField" placeholder="Address, City, State" [(ngModel)]="dropOfLocation"></ion-input>
            </ion-item>
            <ion-item>
              <ion-label stacked class="inputLabelText">Additional Instructions</ion-label>
              <!--<ion-input class="inputField" placeholder="Type Here" [(ngModel)]="mealTime"></ion-input>-->
              <ion-input pickerFormat="h:mm:a" class="inputField" placeholder="Food Allergies etc..." [(ngModel)]="additionalInstructions"></ion-input>
            </ion-item>
          </ion-list>




        </div>


      </div>
    </div>
  </div>



<!-- bool: showAddItem result: shows the Add Meal Item Page -->
  <div *ngIf="showAddItemAll" class="cardStyle" style="position: absolute; top: 10px; left: 10px; right: 10px; bottom: 10px;">
    <div style="position: relative; width: 100%; height: 100%">
      
      
      <img src="assets/img/back.png" style="top:5px; left:0px; height: 1.5em; width: 1.5em; position: absolute; float: left" (click)="goBack()"/>
      <div style="overflow: auto; height: 100%; text-align: center; margin-left: 2em; margin-right: 0em; padding-right: 1em">
        <div class="blueText mainFont">
          Add Item
        </div>
        <hr class="horizontalBreak" style="margin-top: 0.5em; margin-bottom: 0.2em;" />

        <br />
        <div class="center">

          <ion-list *ngIf="!timeFilledOut && !showConfirm" style="" no-lines>
            <ion-item>
              <ion-label stacked class="inputLabelText">Item Name</ion-label>
              <ion-input  class="inputField" placeholder="Feed cat, mow etc." [(ngModel)]="careItemName"></ion-input>
            </ion-item>
            <ion-item>
              <ion-label stacked class="inputLabelText">Short Description</ion-label>
       <ion-input class="inputField" placeholder="Details, time, location etc." [(ngModel)]="careItemShort"></ion-input>
            </ion-item>
           <ion-item (click)="showCalendarAll()">
              <ion-label stacked class="inputLabelText">Date Needed</ion-label>
              <ion-input [disabled]="true" readonly class="inputField" placeholder="Double Tap for Calendar" [(ngModel)]="careItemDate"></ion-input>
            </ion-item>
          </ion-list>




        </div>


      </div>
    </div>
  </div>






<!-- bool: showConfirm result: shows the Confirm  Item Page -->
<div *ngIf="showConfirm" class="cardStyle" style="position: absolute; top: 10px; left: 10px; right: 10px; bottom: 10px;">
    <div style="position: relative; width: 100%; padding-top: 25%;">
      
      
      <div style="overflow: auto; height: 100%; text-align: center; margin-left: 2em; margin-right: 0em; padding-right: 1em">

 <div  class="welcomeCenter">
      <img src="assets/img/checkmark.png" class="welcomeImage" />
      <br /><br />
      <div class="mainFont">We have added this item to your Care Registry.</div>
    </div>







        </div>


    </div>
  </div>












</ion-content>

<ion-footer>

  <!-- Item list -->
  <ion-slides id="footerSlides" #footerSlides>
    <ion-slide>
      <button class="footerButton" (click)="addItem()" *ngIf="isPlanner">{{footerButtonText}}</button>
      <button class="footerButton" (click)="goBack()" *ngIf="!isPlanner">Back</button>
    </ion-slide>
    <ion-slide>
  <!-- Item detail -->
      <button class="footerButton" (click)="secondaryButton()" *ngIf="isPlanner">{{secondaryButtonText}}</button>
      <ion-row *ngIf="!isPlanner">
        <ion-col style="padding: 0;">
          <button class="footerButtonWhite" (click)="moveSlides(0)">Back</button>
        </ion-col>
        <ion-col style="padding: 0;">
          <button class="footerButtonDouble" (click)="claimTask()">Claim Task</button>
        </ion-col>
      </ion-row>
    </ion-slide>
    <ion-slide>
  <!-- Register -->
      <ion-row *ngIf="!isPlanner">
        <ion-col style="padding: 0;">
          <button class="footerButtonWhite" (click)="moveSlides(1)">Back</button>
        </ion-col>
        <ion-col style="padding: 0;">
          <button class="footerButtonDouble" (click)="this.eventHandler.publish('register');">Claim Task</button>
        </ion-col>
      </ion-row>
    </ion-slide>
    <ion-slide>
  <!-- Register Confirm -->
        <button class="footerButton" (click)="moveSlides(5)" *ngIf="!isPlanner">Continue</button>
    </ion-slide>
    <ion-slide>
  <!-- Login -->
      <ion-row *ngIf="!isPlanner">
          <ion-col style="padding: 0;">
            <button class="footerButtonWhite" (click)="moveSlides(2); this.eventHandler.publish('loginBack')">Back</button>
          </ion-col>
          <ion-col style="padding: 0;">
            <button class="footerButtonDouble" (click)="this.eventHandler.publish('tryLogin');">Next</button>
          </ion-col>
        </ion-row>
    </ion-slide>
  </ion-slides>
</ion-footer>